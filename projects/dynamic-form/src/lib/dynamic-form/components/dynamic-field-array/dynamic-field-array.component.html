<div [formGroup]="group" [ngClass]="firstHierachyLevel() ? 'table-responsive-md': ''">
    <!-- <p *ngIf="theArrays.controls.length > 0" [ngClass]="detailConfig.css_class.group_label">{{ config.display_text }}
    </p> -->
    <!-- <button *ngIf="theArrays.controls.length === 0" [ngClass]="detailConfig.css_class.add_button" type="button"
        (click)="addNew()">+ {{ config.display_text }}</button> -->

    <!-- <div [ngClass]="detailConfig.css_class.group" *ngFor="let control of theArrays.controls; index as i;"> -->
    <!-- 
        <div class="row">
            <div class="col">
                <label [ngClass]="detailConfig.css_class.label"># {{ (i + 1)}}: </label>
            </div>
        </div>
        <div class="row">
            <div *ngFor="let field of detailConfig.field_configs" [ngClass]="field.css_class ?? ''">
                <ng-container b2allDynamicField [config]="field" [abstractControl]="control" [index]="i">
                </ng-container>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <button *ngIf="i === theArrays.controls.length - 1" [ngClass]="detailConfig.css_class.add_button"
                    type="button" (click)="addNew()">+</button>
                <button [ngClass]="detailConfig.css_class.del_button" type="button" (click)="removeRow(i)">X</button>
            </div>
        </div> -->

    <table class="table table-bordered table-hover mb-0">
        <thead>
            <tr>
                <th [attr.colspan]="detailConfig.field_configs.length + 2">{{ config.display_text }}</th>
            </tr>
            <tr>
                <th scope="col">#</th>
                <th scope="col" *ngFor="let field of detailConfig.field_configs">{{ field.name }}</th>
                <th scope="col" *ngIf="lastHierachyLevel()"></th>
            </tr>
        </thead>
        <tbody *ngFor="let control of theArrays.controls; index as i;">
            <tr>
                <th scope="row">{{ (i + 1) }}</th>
                <td *ngFor="let field of detailConfig.field_configs">
                    <ng-container b2allDynamicField [config]="field" [abstractControl]="control" [index]="i">
                    </ng-container>
                </td>
                <td *ngIf="lastHierachyLevel()">
                    <button [ngClass]="detailConfig.css_class.del_button" type="button"
                        (click)="removeRow(i)">-</button>
                </td>
            </tr>
            <tr *ngIf="!lastHierachyLevel()">
                <td></td>
                <td [attr.colspan]="detailConfig.field_configs.length + 1">
                    <button [ngClass]="detailConfig.css_class.del_button" type="button" (click)="removeRow(i)">- {{
                        control.value.key }}</button>
                </td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td [attr.colspan]="detailConfig.field_configs.length + 2">
                    <button [ngClass]="detailConfig.css_class.add_button" type="button" (click)="addNew()">+ {{
                        config.display_text }}</button>
                </td>
            </tr>
        </tfoot>
    </table>

    <!-- </div> -->



</div>